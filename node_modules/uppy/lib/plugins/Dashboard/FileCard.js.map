{"version":3,"sources":["../../../src/plugins/Dashboard/FileCard.js"],"names":["getFileTypeIcon","require","checkIcon","module","exports","fileCard","props","file","fileCardFor","files","meta","tempStoreMeta","ev","value","target","name","attributes","renderMetaFields","metaFields","map","field","id","placeholder","done","type","general","specific","color","preview","icon"],"mappings":";;;;;AACA,IAAMA,kBAAkBC,QAAQ,mBAAR,CAAxB;;eACsBA,QAAQ,SAAR,C;IAAdC,S,YAAAA,S;;AAERC,OAAOC,OAAP,GAAiB,SAASC,QAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AACzC,MAAMC,OAAOD,MAAME,WAAN,GAAoBF,MAAMG,KAAN,CAAYH,MAAME,WAAlB,CAApB,GAAqD,KAAlE;AACA,MAAME,OAAO,EAAb;;AAEA,WAASC,aAAT,CAAwBC,EAAxB,EAA4B;AAC1B,QAAMC,QAAQD,GAAGE,MAAH,CAAUD,KAAxB;AACA,QAAME,OAAOH,GAAGE,MAAH,CAAUE,UAAV,CAAqBD,IAArB,CAA0BF,KAAvC;AACAH,SAAKK,IAAL,IAAaF,KAAb;AACD;;AAED,WAASI,gBAAT,CAA2BV,IAA3B,EAAiC;AAC/B,QAAMW,aAAaZ,MAAMY,UAAN,IAAoB,EAAvC;AACA,WAAOA,WAAWC,GAAX,CAAe,UAACC,KAAD,EAAW;AAAA;;AAC/B,0ZAC+CA,MAAML,IADrD,oKAGiBK,MAAMC,EAHvB,iIAKkBd,KAAKG,IAAL,CAAUU,MAAMC,EAAhB,CALlB,6EAMwBD,MAAME,WAAN,IAAqB,EAN7C,+CAOmBX,aAPnB;AAQD,KATM,CAAP;AAUD;;AAED,gIAA8D,CAACL,MAAME,WAArE,yrBAEkGD,KAAKG,IAAL,GAAYH,KAAKG,IAAL,CAAUK,IAAtB,GAA6BR,KAAKQ,IAFpI,8SAIsB;AAAA,WAAMT,MAAMiB,IAAN,CAAWb,IAAX,EAAiBH,KAAKc,EAAtB,CAAN;AAAA,GAJtB,mMAMIf,MAAME,WAAN,qVAE0ER,gBAAgBO,KAAKiB,IAAL,CAAUC,OAA1B,EAAmClB,KAAKiB,IAAL,CAAUE,QAA7C,EAAuDC,KAFjI,iJAGQpB,KAAKqB,OAAL,+EACmBrB,KAAKQ,IADxB,8CACsCR,KAAKqB,OAD3C,iXAG8D5B,gBAAgBO,KAAKiB,IAAL,CAAUC,OAA1B,EAAmClB,KAAKiB,IAAL,CAAUE,QAA7C,EAAuDC,KAHrH,4IAG+H3B,gBAAgBO,KAAKiB,IAAL,CAAUC,OAA1B,EAAmClB,KAAKiB,IAAL,CAAUE,QAA7C,EAAuDG,IAHtL,8hCAHR,+5BAcoFtB,KAAKG,IAAL,CAAUK,IAd9F,gDAeyBJ,aAfzB,kKAiBQM,iBAAiBV,IAAjB,CAjBR,4EAoBE,IA1BN,4XAgCsB;AAAA,WAAMD,MAAMiB,IAAN,CAAWb,IAAX,EAAiBH,KAAKc,EAAtB,CAAN;AAAA,GAhCtB,oJAgCyDnB,WAhCzD;AAmCD,CA3DD","file":"FileCard.js","sourcesContent":["const html = require('yo-yo')\nconst getFileTypeIcon = require('./getFileTypeIcon')\nconst { checkIcon } = require('./icons')\n\nmodule.exports = function fileCard (props) {\n  const file = props.fileCardFor ? props.files[props.fileCardFor] : false\n  const meta = {}\n\n  function tempStoreMeta (ev) {\n    const value = ev.target.value\n    const name = ev.target.attributes.name.value\n    meta[name] = value\n  }\n\n  function renderMetaFields (file) {\n    const metaFields = props.metaFields || []\n    return metaFields.map((field) => {\n      return html`<fieldset class=\"UppyDashboardFileCard-fieldset\">\n        <label class=\"UppyDashboardFileCard-label\">${field.name}</label>\n        <input class=\"UppyDashboardFileCard-input\"\n               name=\"${field.id}\"\n               type=\"text\"\n               value=\"${file.meta[field.id]}\"\n               placeholder=\"${field.placeholder || ''}\"\n               onkeyup=${tempStoreMeta} /></fieldset>`\n    })\n  }\n\n  return html`<div class=\"UppyDashboardFileCard\" aria-hidden=\"${!props.fileCardFor}\">\n    <div class=\"UppyDashboardContent-bar\">\n      <h2 class=\"UppyDashboardContent-title\">Editing <span class=\"UppyDashboardContent-titleFile\">${file.meta ? file.meta.name : file.name}</span></h2>\n      <button class=\"UppyDashboardContent-back\" type=\"button\" title=\"Finish editing file\"\n              onclick=${() => props.done(meta, file.id)}>Done</button>\n    </div>\n    ${props.fileCardFor\n      ? html`<div class=\"UppyDashboardFileCard-inner\">\n          <div class=\"UppyDashboardFileCard-preview\" style=\"background-color: ${getFileTypeIcon(file.type.general, file.type.specific).color}\">\n            ${file.preview\n              ? html`<img alt=\"${file.name}\" src=\"${file.preview}\">`\n              : html`<div class=\"UppyDashboardItem-previewIconWrap\">\n                <span class=\"UppyDashboardItem-previewIcon\" style=\"color: ${getFileTypeIcon(file.type.general, file.type.specific).color}\">${getFileTypeIcon(file.type.general, file.type.specific).icon}</span>\n                <svg class=\"UppyDashboardItem-previewIconBg\" width=\"72\" height=\"93\" viewBox=\"0 0 72 93\"><g><path d=\"M24.08 5h38.922A2.997 2.997 0 0 1 66 8.003v74.994A2.997 2.997 0 0 1 63.004 86H8.996A2.998 2.998 0 0 1 6 83.01V22.234L24.08 5z\" fill=\"#FFF\"/><path d=\"M24 5L6 22.248h15.007A2.995 2.995 0 0 0 24 19.244V5z\" fill=\"#E4E4E4\"/></g></svg>\n              </div>`\n            }\n          </div>\n          <div class=\"UppyDashboardFileCard-info\">\n            <fieldset class=\"UppyDashboardFileCard-fieldset\">\n              <label class=\"UppyDashboardFileCard-label\">Name</label>\n              <input class=\"UppyDashboardFileCard-input\" name=\"name\" type=\"text\" value=\"${file.meta.name}\"\n                     onkeyup=${tempStoreMeta} />\n            </fieldset>\n            ${renderMetaFields(file)}\n          </div>\n        </div>`\n      : null\n    }\n    <div class=\"UppyDashboard-actions\">\n      <button class=\"UppyButton--circular UppyButton--blue UppyDashboardFileCard-done\"\n              type=\"button\"\n              title=\"Finish editing file\"\n              onclick=${() => props.done(meta, file.id)}>${checkIcon()}</button>\n    </div>\n    </div>`\n}\n"]}